metadata:
- description: "\n            This ruleset provides analysis with respect to the missing
    dependencies in Apache Camel 3 due to Java 11 adoption.\n        "
  dependencies:
    addon:
    - id: org.jboss.windup.rules,windup-rules-java,3.0.0.Final
  sourceTechnology:
  - id: camel
    versionRange: '[2,3)'
  targetTechnology:
  - id: camel
    versionRange: '[3,)'
rules:
  rule:
  - when:
      xmlfile:
      - namespace:
        - value: ""
          prefix: m
          uri: http://maven.apache.org/POM/4.0.0
        as: dependencies-block
        matches: /m:project/m:dependencies
        in: pom.xml
      not:
      - project:
        - artifact:
            value: ""
            groupId: javax.xml.bind
            artifactId: jaxb-api
    perform:
      hint:
      - message: "\n                        \n                        `jaxb-api` Maven
          dependency missing.\n\n                        Apache Camel 3 supports Java
          11 and in this Java version JAXB modules have been removed from the JDK,
          therefore you will need to add them as Maven dependencies since there are
          couple of components rely on them:\n\n                        ```Xml\n                        <dependency>\n
          \                           <groupId>javax.xml.bind</groupId>\n                            <artifactId>jaxb-api</artifactId>\n
          \                           <version>2.3.1</version>\n                        </dependency>\n
          \                       ```\n                        \n                    "
        link:
        - value: ""
          title: 'Camel 3 - Migration Guide: Java Versions'
          href: https://camel.apache.org/manual/latest/camel-3-migration-guide.html#_java_versions
        title: '''jaxb-api'' Maven dependency missing'
        category-id: potential
        effort: 1
      over: dependencies-block
  - when:
      xmlfile:
      - namespace:
        - value: ""
          prefix: m
          uri: http://maven.apache.org/POM/4.0.0
        as: dependencies-block
        matches: /m:project/m:dependencies
        in: pom.xml
      not:
      - project:
        - artifact:
            value: ""
            groupId: com.sun.xml.bind
            artifactId: jaxb-core
    perform:
      hint:
      - message: "\n                        \n                        `jaxb-core`
          Maven dependency missing.\n\n                        Apache Camel 3 supports
          Java 11 and in this Java version JAXB modules have been removed from the
          JDK, therefore you will need to add them as Maven dependencies since there
          are couple of components rely on them:\n\n                        ```Xml\n
          \                       <dependency>\n                            <groupId>com.sun.xml.bind</groupId>\n
          \                           <artifactId>jaxb-core</artifactId>\n                            <version>2.3.0.1</version>\n
          \                       </dependency>\n                        ```\n                        \n
          \                   "
        link:
        - value: ""
          title: 'Camel 3 - Migration Guide: Java Versions'
          href: https://camel.apache.org/manual/latest/camel-3-migration-guide.html#_java_versions
        title: '''jaxb-core'' Maven dependency missing'
        category-id: potential
        effort: 1
      over: dependencies-block
  - when:
      xmlfile:
      - namespace:
        - value: ""
          prefix: m
          uri: http://maven.apache.org/POM/4.0.0
        as: dependencies-block
        matches: /m:project/m:dependencies
        in: pom.xml
      not:
      - project:
        - artifact:
            value: ""
            groupId: com.sun.xml.bind
            artifactId: jaxb-impl
    perform:
      hint:
      - message: "\n                        \n                        `jaxb-impl`
          Maven dependency missing.\n\n                        Apache Camel 3 supports
          Java 11 and in this Java version JAXB modules have been removed from the
          JDK, therefore you will need to add them as Maven dependencies since there
          are couple of components rely on them:\n\n                        ```Xml\n
          \                       <dependency>\n                            <groupId>com.sun.xml.bind</groupId>\n
          \                           <artifactId>jaxb-impl</artifactId>\n                            <version>2.3.2</version>\n
          \                       </dependency>\n                        ```\n                        \n
          \                   "
        link:
        - value: ""
          title: 'Camel 3 - Migration Guide: Java Versions'
          href: https://camel.apache.org/manual/latest/camel-3-migration-guide.html#_java_versions
        title: '''jaxb-impl'' Maven dependency missing'
        category-id: potential
        effort: 1
      over: dependencies-block
sourceFile: http://github.com/windup/windup-rulesets/tree/master/rules/rules-reviewed/camel3/camel2/xml-java-versions.windup.xml
