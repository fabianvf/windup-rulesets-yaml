metadata:
- description: "\n            This ruleset provides analysis of JBoss EAP 6 and RESTEasy
    2 which needs to be replaced when migrating to JBoss EAP 7+ and RESTEasy 3+.\n
    \       "
  dependencies:
    addon:
    - id: org.jboss.windup.rules,windup-rules-xml,2.3.0.Final
  sourceTechnology:
  - id: eap
    versionRange: '[6,7)'
  - id: resteasy
    versionRange: '[2,3)'
  targetTechnology:
  - id: resteasy
    versionRange: '[3,)'
  - id: eap
    versionRange: '[7,8)'
  tag:
  - resteasy
rules:
  rule:
  - when:
      javaclass:
      - references: org.jboss.resteasy.client.cache.{cache_class}
    perform:
      hint:
      - message: "Caching in the RESTEasy client framework in resteasy-jaxrs is replaced
          by caching in the JAX-RS 2.0 compliant resteasy-client module.\n                    Use
          `org.jboss.resteasy.client.jaxrs.cache` package instead of `org.jboss.resteasy.client.cache`.\n
          \                   "
        link:
        - value: ""
          title: RESTEasy Client Application Changes
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#application_migration_changes
        tag:
        - resteasy
        title: RESTEasy 3 Cache Client package change
        category-id: mandatory
        effort: 1
    where:
    - matches:
      - value: ""
        pattern: (CacheEntry|CacheFactory|CacheInterceptor|LightweightBrowserCache|BrowserCache|MapCache)
      param: cache_class
  - when:
      javaclass:
      - references: org.jboss.resteasy.client.ClientRequest
    perform:
      hint:
      - message: "\n                    Replace class `org.jboss.resteasy.client.ClientRequest`
          with `org.jboss.resteasy.client.jaxrs.ResteasyClient`.\n\n                    The
          following is an example of how to send a link header with the RESTEasy client
          in EAP 6 with RESTEasy 2.3.x.\n\n                    ```java\n                    ClientRequest
          request = new ClientRequest(generateURL(\"/linkheader/str\"));\n                    request.addLink(\"previous
          chapter\", \"previous\", \"http://example.com/TheBook/chapter2\", null);\n
          \                   ClientResponse response = request.post();\n                    LinkHeader
          header = response.getLinkHeader();\n                    ```\n\n                    The
          following is an example of how to accomplish the same task with the RESTEasy
          client in RESTEasy 3.\n\n                    ```java\n                    ResteasyClient
          client = new ResteasyClientBuilder().build();\n                    Response
          response = client.target(generateURL(\"/linkheader/str\")).request()\n                        .header(\"Link\",
          \"<http://example.com/TheBook/chapter2>; rel=\"previous\";\n                    title=\"previous
          chapter\">\").post(Entity.text(new String()));\n                    javax.ws.rs.core.Link
          link = response.getLink(\"previous\");\n                    ```\n\n                    "
        link:
        - value: ""
          title: RESTEasy Client Application Changes
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#application_migration_changes
        tag:
        - resteasy
        title: Deprecated class ClientRequest in RESTEasy 3
        category-id: optional
        effort: 1
  - when:
      javaclass:
      - references: org.jboss.resteasy.client.ClientResponse
    perform:
      hint:
      - message: Replace `org.jboss.resteasy.client.ClientResponse` class with `javax.ws.rs.core.Response`.
        link:
        - value: ""
          title: RESTEasy Client Application Changes
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#application_migration_changes
        tag:
        - resteasy
        title: Deprecated class ClientResponse in RESTEasy 3
        category-id: optional
        effort: 1
  - when:
      javaclass:
      - references: org.jboss.resteasy.client.{type}
    perform:
      hint:
      - message: Replace this class with `org.jboss.resteasy.client.jaxrs.{type}`.
        link:
        - value: ""
          title: RESTEasy Client Application Changes
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#application_migration_changes
        tag:
        - resteasy
        title: Deprecated class org.jboss.resteasy.client.{type} in RESTEasy 3
        category-id: optional
        effort: 1
    where:
    - matches:
      - value: ""
        pattern: (ProxyBuilder|ProxyConfig|ProxyFactory)
      param: type
  - when:
      javaclass:
      - references: org.jboss.resteasy.client.EntityTypeFactory
    perform:
      hint:
      - message: "\n                    There is no direct replacement for `org.jboss.resteasy.client.EntityTypeFactory`
          class.\n\n                    `org.jboss.resteasy.client.ClientResponse<T>`
          is a generic type in the RESTEasy client framework,\n                    but
          `org.jboss.resteasy.client.jaxrs.internal.ClientResponse` in the resteasy-client
          module is not, so\n                    `EntityTypeFactory` is no longer
          useful.\n                    "
        link:
        - value: ""
          title: RESTEasy Client Application Changes
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#application_migration_changes
        tag:
        - resteasy
        title: Deprecated class EntityTypeFactory in RESTEasy 3
        category-id: optional
        effort: 1
  - when:
      javaclass:
      - references: org.jboss.resteasy.client.ClientExecutor
    perform:
      hint:
      - message: Replace the `org.jboss.resteasy.client.ClientExecutor` usage with
          `org.jboss.resteasy.client.jaxrs.ClientHttpEngine` class.
        link:
        - value: ""
          title: RESTEasy Client Application Changes
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#application_migration_changes
        tag:
        - resteasy
        title: Deprecated interface ClientExecutor in RESTEasy 3
        category-id: optional
        effort: 1
  - when:
      javaclass:
      - references: org.jboss.resteasy.client.ClientRequestFactory
    perform:
      hint:
      - message: Replace the `org.jboss.resteasy.client.ClientRequestFactory` usage
          with `org.jboss.resteasy.client.jaxrs.ResteasyClientBuilder` class.
        link:
        - value: ""
          title: RESTEasy Client Application Changes
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#application_migration_changes
        tag:
        - resteasy
        title: Deprecated class ClientRequestFactory in RESTEasy 3
        category-id: optional
        effort: 1
  - when:
      javaclass:
      - references: org.jboss.resteasy.client.ClientResponseFailure
    perform:
      hint:
      - message: |-
          Replace the `org.jboss.resteasy.client.ClientResponseFailure` with `javax.ws.rs.client.ResponseProcessingException`
                              or with `javax.ws.rs.client.ProcessingException` or with `javax.ws.rs.client.WebApplicationException` class.
        link:
        - value: ""
          title: RESTEasy Client Application Changes
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#application_migration_changes
        tag:
        - resteasy
        title: Deprecated exception ClientResponseFailure in RESTEasy 3
        category-id: optional
        effort: 1
  - when:
      javaclass:
      - references: org.jboss.resteasy.spi.StringConverter
    perform:
      hint:
      - message: Replace `org.jboss.resteasy.spi.StringConverter` by `javax.ws.rs.ext.ParamConverterProvider`.
        link:
        - value: ""
          title: RESTEasy SPI Application Changes
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#application_migration_changes
        - value: ""
          title: JAX-RS API
          href: https://jax-rs-spec.java.net/nonav/2.0-rev-a/apidocs/index.html?javax/ws/rs/ext/ParamConverterProvider.html
        tag:
        - resteasy
        title: RESTEasy 3 SPI Application Change for StringConverter
        category-id: mandatory
        effort: 1
  - when:
      javaclass:
      - references: org.jboss.resteasy.spi.InjectorFactory
    perform:
      hint:
      - message: There were multiple changes on adding/removing methods on `org.jboss.resteasy.spi.InjectorFactory`.
        link:
        - value: ""
          title: RESTEasy SPI Application Changes
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#injectorfactory_and_registry
        - value: ""
          title: RESTEasy SPI InjectorFactory Changes
          href: https://docs.jboss.org/resteasy/docs/3.0.16.Final/javadocs/index.html?org/jboss/resteasy/spi/InjectorFactory.html
        tag:
        - resteasy
        title: RESTEasy 3 SPI Application Changes for InjectorFactory
        category-id: mandatory
        effort: 1
  - when:
      javaclass:
      - references: org.jboss.resteasy.spi.interception.MessageBodyWriterInterceptor
    perform:
      hint:
      - message: The interface `org.jboss.resteasy.spi.interception.MessageBodyWriterInterceptor`
          is deprecated and you should use `javax.ws.rs.ext.WriterInterceptor` from
          JAX-RS API.
        link:
        - value: ""
          title: RESTEasy SPI Application Changes
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#migrate_resteasy_deprecated_classes
        - value: ""
          title: JAX-RS API
          href: https://docs.oracle.com/javaee/7/api/javax/ws/rs/ext/WriterInterceptor.html
        tag:
        - resteasy
        title: Deprecated interface MessageBodyWriterInterceptor in RESTEasy 3
        category-id: optional
        effort: 1
  - when:
      javaclass:
      - references: org.jboss.resteasy.spi.interception.MessageBodyReaderInterceptor
    perform:
      hint:
      - message: The interface `org.jboss.resteasy.spi.interception.MessageBodyReaderInterceptor`
          is deprecated and you should use `javax.ws.rs.ext.ReaderInterceptor` from
          JAX-RS API.
        link:
        - value: ""
          title: RESTEasy SPI Application Changes
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#migrate_resteasy_deprecated_classes
        - value: ""
          title: JAX-RS API
          href: https://docs.oracle.com/javaee/7/api/index.html?javax/ws/rs/ext/ReaderInterceptor.html
        tag:
        - resteasy
        title: Deprecated interface MessageBodyReaderInterceptor in RESTEasy 3
        category-id: optional
        effort: 1
  - when:
      javaclass:
      - references: org.jboss.resteasy.spi.interception.MessageBodyWriterContext
    perform:
      hint:
      - message: The interface `org.jboss.resteasy.spi.interception.MessageBodyWriterContext`
          is replaced by the `javax.ws.rs.ext.WriterInterceptorContext` interface
          by JAX-RS 2.0 compliant interceptor facility.
        link:
        - value: ""
          title: RESTEasy SPI Application Changes
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#migrate_resteasy_deprecated_classes
        - value: ""
          title: JAX-RS API
          href: https://docs.oracle.com/javaee/7/api/index.html?javax/ws/rs/ext/ReaderInterceptor.html
        tag:
        - resteasy
        title: Deprecated interface MessageBodyWriterContext in RESTEasy 3
        category-id: optional
        effort: 1
  - when:
      javaclass:
      - references: org.jboss.resteasy.core.interception.InterceptorRegistry
    perform:
      hint:
      - message: '`org.jboss.resteasy.core.interception.InterceptorRegistry` is deprecated
          in favor of the JAX-RS 2.0 Interceptor and filter API.'
        link:
        - value: ""
          title: RESTEasy SPI Application Changes
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#migrate_resteasy_deprecated_classes
        - value: ""
          title: Java EE 7 and JAX-RS 2.0
          href: https://oracle.com/technical-resources/articles/java/jaxrs20.html
        tag:
        - resteasy
        title: Deprecated class InterceptorRegistry in RESTEasy 3
        category-id: optional
        effort: 1
  - when:
      javaclass:
      - references: org.jboss.resteasy.core.interception.InterceptorRegistryListener
    perform:
      hint:
      - message: '`org.jboss.resteasy.core.interception.InterceptorRegistryListener`
          is deprecated in favor of the JAX-RS 2.0 Interceptor and filter API.'
        link:
        - value: ""
          title: RESTEasy SPI Application Changes
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#migrate_resteasy_deprecated_classes
        - value: ""
          title: Java EE 7 and JAX-RS 2.0
          href: https://oracle.com/technical-resources/articles/java/jaxrs20.html
        tag:
        - resteasy
        title: Deprecated interface InterceptorRegistryListener in RESTEasy 3
        category-id: optional
        effort: 1
  - when:
      javaclass:
      - references: org.jboss.resteasy.client.core.executors.ApacheHttpClientExecutor
    perform:
      hint:
      - message: No direct replacement.
        link:
        - value: ""
          title: RESTEasy SPI Application Changes
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#migrate_resteasy_deprecated_classes
        - value: ""
          title: RESTEasy javadoc for ApacheHttpClientExecutor
          href: https://docs.jboss.org/resteasy/docs/2.3.1.GA/javadocs/org/jboss/resteasy/client/core/executors/ApacheHttpClientExecutor.html
        tag:
        - resteasy
        title: Removed class ApacheHttpClientExecutor from in RESTEasy 3
        category-id: mandatory
        effort: 1
  - when:
      javaclass:
      - references: org.jboss.resteasy.spi.interception.AcceptedByMethod
    perform:
      hint:
      - message: Use `javax.ws.rs.container.DynamicFeature` for Dynamic binding instead
          of implementing `org.jboss.resteasy.spi.interception.AcceptedByMethod` interface.
        link:
        - value: ""
          title: RESTEasy SPI Application Changes
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#migrate_resteasy_deprecated_classes
        - value: ""
          title: JAX-RS API
          href: https://docs.oracle.com/javaee/7/api/index.html?javax/ws/rs/container/DynamicFeature.html
        tag:
        - resteasy
        title: Deprecated interface AcceptedByMethod in RESTEasy 3
        category-id: optional
        effort: 1
  - when:
      javaclass:
      - references: org.jboss.resteasy.annotations.cache.ServerCached
    perform:
      hint:
      - message: Remove annotation `@org.jboss.resteasy.annotations.cache.ServerCached'
          as it was removed in RESTEasy 3.x.
        link:
        - value: ""
          title: RESTEasy removes additional classes
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#additional_classes_removed_from_resteasy_3
        - value: ""
          title: JAX-RS API ServerCached annotation API
          href: https://docs.jboss.org/resteasy/docs/2.3.5.Final/javadocs/index.html?org/jboss/resteasy/annotations/cache/ServerCached.html
        - value: ""
          title: Local Server-side Response Cache
          href: http://docs.jboss.org/resteasy/docs/3.0.16.Final/userguide/html_single/index.html#server_cache
        tag:
        - resteasy
        title: Removed annotation ServerCached in RESTEasy 3
        category-id: mandatory
        effort: 1
  - when:
      javaclass:
      - references: org.jboss.resteasy.spi.Link
    perform:
      hint:
      - message: Replaced by `javax.ws.rs.core.Link` in JAX-RS API.
        link:
        - value: ""
          title: RESTEasy SPI Application Changes
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#migrate_resteasy_deprecated_classes
        - value: ""
          title: JAX-RS API Link
          href: https://docs.oracle.com/javaee/7/api/index.html?javax/ws/rs/core/Link.html
        tag:
        - resteasy
        - jax-rs
        title: Deprecated class Link in RESTEasy 3
        category-id: optional
        effort: 1
  - when:
      javaclass:
      - references: org.jboss.resteasy.spi.interception.ClientExecutionContext
    perform:
      hint:
      - message: '`org.jboss.resteasy.spi.interception.ClientExecutionContext` is
          deprecated in favor of the JAX-RS 2.0 Interceptor and filter API.'
        link:
        - value: ""
          title: RESTEasy SPI Application Changes
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#migrate_resteasy_deprecated_classes
        - value: ""
          title: Java EE 7 and JAX-RS 2.0
          href: https://oracle.com/technical-resources/articles/java/jaxrs20.html
        tag:
        - resteasy
        title: Deprecated interface ClientExecutionContext in RESTEasy 3
        category-id: optional
        effort: 1
  - when:
      javaclass:
      - references: org.jboss.resteasy.spi.interception.ClientExecutionInterceptor
    perform:
      hint:
      - message: |-
          Use `javax.ws.rs.client.Invocation` instead of `org.jboss.resteasy.spi.interception.ClientExecutionInterceptor`.
                              The RESTEasy interceptor facility introduced in release 2.x is replaced by the JAX-RS 2.0 compliant interceptor facility in release 3.0.x.
        link:
        - value: ""
          title: RESTEasy SPI Application Changes
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#migrate_resteasy_deprecated_classes
        tag:
        - resteasy
        title: Deprecated interface ClientExecutionInterceptor in RESTEasy 3
        category-id: optional
        effort: 1
  - when:
      javaclass:
      - location:
        - METHOD_CALL
        references: org.jboss.resteasy.spi.ResteasyProviderFactory.add{*}
    perform:
      hint:
      - message: |-
          Most of the `org.jboss.resteasy.spi.ResteasyProviderFactory#add*` methods have been removed or made protected in RESTEasy 3.0.
                              For example, the `addBuiltInMessageBodyReader()` and `addBuiltInMessageBodyWriter()` methods have been removed and the `addMessageBodyReader()` and `addMessageBodyWriter()` methods have been made protected.
                              You should now use the `registerProvider()` and `registerProviderInstance()` methods.
        link:
        - value: ""
          title: RESTEasy removed/protected methods on ResteasyProviderFactory class
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#resteasyproviderfactory_add_methods
        - value: ""
          title: JAX-RS API
          href: https://docs.jboss.org/resteasy/docs/3.0.16.Final/javadocs/org/jboss/resteasy/spi/ResteasyProviderFactory.html
        tag:
        - resteasy
        title: ResteasyProviderFactory#add* methods were removed
        category-id: mandatory
        effort: 1
  - when:
      javaclass:
      - references: org.jboss.resteasy.spi.interception.MessageBodyReaderContext
    perform:
      hint:
      - message: |-
          Use `javax.ws.rs.ext.ReaderInterceptorContext` instead of `org.jboss.resteasy.spi.interception.MessageBodyReaderContext`.
                              The RESTEasy interceptor facility introduced in release 2.x is replaced by the JAX-RS 2.0 compliant interceptor facility in release 3.0.x.
        link:
        - value: ""
          title: RESTEasy SPI Application Changes
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#migrate_resteasy_deprecated_classes
        - value: ""
          title: JAX-RS API
          href: https://docs.oracle.com/javaee/7/api/index.html?javax/ws/rs/ext/ReaderInterceptor.html
        tag:
        - resteasy
        title: Deprecated interface MessageBodyReaderContext in RESTEasy 3
        category-id: optional
        effort: 1
  - when:
      javaclass:
      - references: org.jboss.resteasy.spi.interception.PostProcessInterceptor
    perform:
      hint:
      - message: |-
          Use `javax.ws.rs.container.ContainerResponseFilter` instead of `org.jboss.resteasy.spi.interception.PostProcessInterceptor`.
                              The RESTEasy interceptor facility introduced in release 2.x is replaced by the JAX-RS 2.0 compliant filters and interceptor facility in release 3.0.x.
        link:
        - value: ""
          title: RESTEasy SPI Application Changes
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#migrate_resteasy_deprecated_classes
        - value: ""
          title: JAX-RS API
          href: https://jax-rs-spec.java.net/nonav/2.0-rev-a/apidocs/index.html?javax/ws/rs/container/ContainerResponseFilter.html
        tag:
        - resteasy
        title: Deprecated interface PostProcessInterceptor in RESTEasy 3
        category-id: optional
        effort: 1
  - when:
      javaclass:
      - references: org.jboss.resteasy.spi.interception.PreProcessInterceptor
    perform:
      hint:
      - message: |-
          Use `javax.ws.rs.container.ContainerRequestFilter` instead of `org.jboss.resteasy.spi.interception.PreProcessInterceptor`.
                              The RESTEasy interceptor facility introduced in release 2.x is replaced by the JAX-RS 2.0 compliant filters and interceptor facility in release 3.0.x.
        link:
        - value: ""
          title: RESTEasy SPI Application Changes
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#migrate_resteasy_deprecated_classes
        - value: ""
          title: JAX-RS API
          href: https://jax-rs-spec.java.net/nonav/2.0-rev-a/apidocs/index.html?javax/ws/rs/container/ContainerRequestFilter.html
        tag:
        - resteasy
        title: Deprecated interface PreProcessInterceptor in RESTEasy 3
        category-id: optional
        effort: 1
  - when:
      javaclass:
      - references: org.jboss.resteasy.spi.Registry
    perform:
      hint:
      - message: There were multiple changes on adding/removing methods on `org.jboss.resteasy.spi.Registry`.
        link:
        - value: ""
          title: RESTEasy SPI Application Changes
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#injectorfactory_and_registry
        - value: ""
          title: RESTEasy SPI Registry Changes
          href: https://docs.jboss.org/resteasy/docs/3.0.16.Final/javadocs/index.html?org/jboss/resteasy/spi/Registry.html
        tag:
        - resteasy
        title: RESTEasy 3 SPI Registry changed
        category-id: mandatory
        effort: 1
  - when:
      javaclass:
      - references: org.jboss.resteasy.spi.ForbiddenException
    perform:
      hint:
      - message: Replaced by `javax.ws.rs.ForbiddenException` in jaxrs-api module.
        link:
        - value: ""
          title: RESTEasy Client Application Changes
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#application_migration_changes
        - value: ""
          title: JAX-RS client Exception API
          href: https://docs.oracle.com/javaee/7/api/index.html?javax/ws/rs/ForbiddenException.html
        tag:
        - resteasy
        - jax-rs
        title: Deprecated exception ForbiddenException in RESTEasy 3
        category-id: optional
        effort: 1
  - when:
      javaclass:
      - references: org.jboss.resteasy.spi.MethodNotAllowedException
    perform:
      hint:
      - message: Replaced by `javax.ws.rs.NotAllowedException` in jaxrs-api module.
        link:
        - value: ""
          title: RESTEasy Client Application Changes
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#application_migration_changes
        - value: ""
          title: JAX-RS client Exception API
          href: https://docs.oracle.com/javaee/7/api/index.html?javax/ws/rs/NotAllowedException.html
        tag:
        - resteasy
        - jax-rs
        title: Deprecated exception MethodNotAllowedException in RESTEasy 3
        category-id: optional
        effort: 1
  - when:
      javaclass:
      - references: org.jboss.resteasy.spi.NotAcceptableException
    perform:
      hint:
      - message: Replaced by `javax.ws.rs.NotAcceptableException` in jaxrs-api module.
        link:
        - value: ""
          title: RESTEasy Client Application Changes
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#application_migration_changes
        - value: ""
          title: JAX-RS client Exception API
          href: https://docs.oracle.com/javaee/7/api/index.html?javax/ws/rs/NotAcceptableException.html
        tag:
        - resteasy
        - jax-rs
        title: Deprecated exception NotAcceptableException in RESTEasy 3
        category-id: optional
        effort: 1
  - when:
      javaclass:
      - references: org.jboss.resteasy.spi.NotFoundException
    perform:
      hint:
      - message: Replaced by `javax.ws.rs.NotFoundException` in jaxrs-api module.
        link:
        - value: ""
          title: RESTEasy Client Application Changes
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#application_migration_changes
        - value: ""
          title: JAX-RS client Exception API
          href: https://docs.oracle.com/javaee/7/api/index.html?javax/ws/rs/NotFoundException.html
        tag:
        - resteasy
        - jax-rs
        title: Deprecated exception NotFoundException in RESTEasy 3
        category-id: optional
        effort: 1
  - when:
      javaclass:
      - references: org.jboss.resteasy.spi.UnauthorizedException
    perform:
      hint:
      - message: Replaced by `javax.ws.rs.NotAuthorizedException` in jaxrs-api module.
        link:
        - value: ""
          title: RESTEasy Client Application Changes
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#application_migration_changes
        - value: ""
          title: JAX-RS client Exception API
          href: https://docs.oracle.com/javaee/7/api/index.html?javax/ws/rs/NotAuthorizedException.html
        tag:
        - resteasy
        - jax-rs
        title: Deprecated exception UnauthorizedException in RESTEasy 3
        category-id: optional
        effort: 1
  - when:
      javaclass:
      - references: org.jboss.resteasy.spi.UnsupportedMediaTypeException
    perform:
      hint:
      - message: Replaced by `javax.ws.rs.NotSupportedException` in jaxrs-api module.
        link:
        - value: ""
          title: RESTEasy Client Application Changes
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#application_migration_changes
        - value: ""
          title: JAX-RS client Exception API
          href: https://docs.oracle.com/javaee/7/api/index.html?javax/ws/rs/NotSupportedException.html
        tag:
        - resteasy
        - jax-rs
        title: Deprecated exception UnsupportedMediaTypeException in RESTEasy 3
        category-id: optional
        effort: 1
  - when:
      javaclass:
      - location:
        - METHOD_CALL
        references: org.jboss.resteasy.plugins.delegates.ServerCookie.checkName{*}
    perform:
      hint:
      - message: |-
          RESTEasy 3 deprecates method `org.jboss.resteasy.plugins.delegates.ServerCookie#checkName` without a replacement.
                              It was deprecated in the original `org.apache.tomcat.util.http.ServerCookie` class which was a template for this method.
        link:
        - value: ""
          title: RESTEasy SPI Application Changes
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#migrate_resteasy_deprecated_classes
        tag:
        - resteasy
        title: Deprecated method ServerCookie#checkName in RESTEasy 3
        category-id: optional
        effort: 1
  - when:
      javaclass:
      - location:
        - METHOD_CALL
        references: org.jboss.resteasy.plugins.providers.jaxb.JAXBContextWrapper.createValidator{*}
    perform:
      hint:
      - message: Empty
        link:
        - value: ""
          title: RESTEasy SPI Application Changes
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#migrate_resteasy_deprecated_classes
        tag:
        - resteasy
        title: Deprecated method JAXBContextWrapper#createValidator in RESTEasy 3
        category-id: optional
        effort: 1
  - when:
      javaclass:
      - location:
        - METHOD_CALL
        references: org.jboss.resteasy.core.ResteasyHttpServletResponseWrapper.encodeRedirectUrl{*}
    perform:
      hint:
      - message: Replace method calls of `encodeRedirectUrl` with `encodeRedirectURL(String
          url)`.
        link:
        - value: ""
          title: RESTEasy SPI Application Changes
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#migrate_resteasy_deprecated_classes
        - value: ""
          title: JAX-RS API
          href: https://docs.oracle.com/javaee/7/api/index.html?javax/ws/rs/ext/ReaderInterceptor.html
        tag:
        - resteasy
        title: Deprecated method ResteasyHttpServletResponseWrapper#encodeRedirectUrl
        category-id: optional
        effort: 1
  - when:
      javaclass:
      - location:
        - METHOD_CALL
        references: org.jboss.resteasy.core.ResteasyHttpServletResponseWrapper.encodeUrl{*}
    perform:
      hint:
      - message: Replace `ResteasyHttpServletResponseWrapper#encodeUrl` with `ResteasyHttpServletResponseWrapper#encodeURL(String
          url)`.
        link:
        - value: ""
          title: RESTEasy SPI Application Changes
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#migrate_resteasy_deprecated_classes
        - value: ""
          title: JAX-RS API
          href: https://docs.oracle.com/javaee/7/api/index.html?javax/ws/rs/ext/ReaderInterceptor.html
        tag:
        - resteasy
        title: Deprecated ResteasyHttpServletResponseWrapper#encodeUrl method
        category-id: optional
        effort: 1
  - when:
      javaclass:
      - location:
        - METHOD_CALL
        references: org.jboss.resteasy.plugins.providers.multipart.MultipartFormDataInputImpl.getFormData{*}
    perform:
      hint:
      - message: '`MultipartFormDataInputImpl#getFormData` method will be removed
          in the future. Use `MultipartFormDataInput#getFormDataMap()` instead.'
        link:
        - value: ""
          title: RESTEasy SPI Application Changes
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#migrate_resteasy_deprecated_classes
        - value: ""
          title: RESTEasy MultipartFormDataInputImpl#getFormData API
          href: https://docs.jboss.org/resteasy/docs/3.0.16.Final/javadocs/org/jboss/resteasy/plugins/providers/multipart/MultipartFormDataInputImpl.html#getFormData()
        tag:
        - resteasy
        title: Deprecated method MultipartFormDataInputImpl#getFormData in RESTEasy
          3
        category-id: optional
        effort: 1
  - when:
      javaclass:
      - location:
        - METHOD_CALL
        references: org.jboss.resteasy.plugins.providers.multipart.MultipartFormDataInput.getFormData{*}
    perform:
      hint:
      - message: '`MultipartFormDataInput#getFormData` method will be removed in the
          future. Use `MultipartFormDataInput#getFormDataMap()` instead.'
        link:
        - value: ""
          title: RESTEasy SPI Application Changes
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#migrate_resteasy_deprecated_classes
        - value: ""
          title: RESTEasy MultipartFormDataInput#getFormData API
          href: https://docs.jboss.org/resteasy/docs/3.0.16.Final/javadocs/org/jboss/resteasy/plugins/providers/multipart/MultipartFormDataInput.html#getFormData()
        tag:
        - resteasy
        title: Deprecated method MultipartFormDataInput#getFormData in RESTEasy 3
        category-id: optional
        effort: 1
  - when:
      javaclass:
      - location:
        - METHOD_CALL
        references: org.jboss.resteasy.core.ResteasyHttpServletRequestWrapper.isRequestedSessionIdFromUrl{*}
    perform:
      hint:
      - message: As of Version 2.1 of the Java Servlet API, use `ResteasyHttpServletRequestWrapper.isRequestedSessionIdFromURL()`
          instead.
        link:
        - value: ""
          title: RESTEasy SPI Application Changes
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#migrate_resteasy_deprecated_classes
        - value: ""
          title: RestEasy javadoc API
          href: https://docs.jboss.org/resteasy/docs/3.0.16.Final/javadocs/org/jboss/resteasy/core/ResteasyHttpServletRequestWrapper.html#isRequestedSessionIdFromUrl()
        tag:
        - resteasy
        title: Deprecated method ResteasyHttpServletRequestWrapper.isRequestedSessionIdFromURL
          in RESTEasy 3
        category-id: optional
        effort: 1
  - when:
      javaclass:
      - location:
        - METHOD_CALL
        references: org.jboss.resteasy.plugins.providers.jaxb.SecureUnmarshaller.isValidating{*}
    perform:
      hint:
      - message: Method `org.jboss.resteasy.plugins.providers.jaxb.SecureUnmarshaller#isValidating`
          is deprecated without a replacement.
        link:
        - value: ""
          title: RESTEasy SPI Application Changes
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#migrate_resteasy_deprecated_classes
        - value: ""
          title: RESTEasy javadoc for SecureUnmarshaller.html#isValidating()
          href: https://docs.jboss.org/resteasy/docs/3.0.16.Final/javadocs/org/jboss/resteasy/plugins/providers/jaxb/SecureUnmarshaller.html#isValidating()
        tag:
        - resteasy
        title: Deprecated method SecureUnmarshaller#isValidating in RESTEasy 3
        category-id: optional
        effort: 1
  - when:
      javaclass:
      - location:
        - METHOD_CALL
        references: org.jboss.resteasy.plugins.delegates.ServerCookie.maybeQuote{*}
    perform:
      hint:
      - message: |-
          RESTEasy 3 deprecates method `org.jboss.resteasy.plugins.delegates.ServerCookie#maybeQuote` without a replacement.
                              It was deprecated in the original `org.apache.tomcat.util.http.ServerCookie` class which was a template for this method.
        link:
        - value: ""
          title: RESTEasy SPI Application Changes
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#migrate_resteasy_deprecated_classes
        - value: ""
          title: JAX-RS API
          href: https://docs.jboss.org/resteasy/docs/3.0.16.Final/javadocs/org/jboss/resteasy/plugins/delegates/ServerCookie.html#maybeQuote%28int,%20java.lang.StringBuffer,%20java.lang.String%29
        tag:
        - resteasy
        title: Deprecated method ServerCookie#maybeQuote in RESTEasy 3
        category-id: optional
        effort: 1
  - when:
      javaclass:
      - location:
        - METHOD_CALL
        references: org.jboss.resteasy.plugins.providers.jaxb.SecureUnmarshaller.setAdapter{*}
    perform:
      hint:
      - message: Method `org.jboss.resteasy.plugins.providers.jaxb.SecureUnmarshaller#setAdapter`
          is deprecated in RESTEasy 3.
        link:
        - value: ""
          title: RESTEasy SPI Application Changes
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#migrate_resteasy_deprecated_classes
        - value: ""
          title: JAX-RS API
          href: https://docs.oracle.com/javaee/7/api/index.html?javax/ws/rs/ext/ReaderInterceptor.html
        tag:
        - resteasy
        title: Deprecated method SecureUnmarshaller#setAdapter in RESTEasy 3
        category-id: optional
        effort: 1
  - when:
      javaclass:
      - location:
        - METHOD_CALL
        references: org.jboss.resteasy.core.ResteasyHttpServletResponseWrapper.setStatus{*}
    perform:
      hint:
      - message: |-
          As of version 2.1, due to ambiguous meaning of the message parameter. To set a status code use `setStatus(int)` instead,
                              to send an error with a description use `sendError(int, String)`. Sets the status code and message for this response.
        link:
        - value: ""
          title: RESTEasy SPI Application Changes
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#migrate_resteasy_deprecated_classes
        - value: ""
          title: RESTEasy javadoc ResteasyHttpServletResponseWrapper.html#setStatus
          href: https://docs.jboss.org/resteasy/docs/3.0.16.Final/javadocs/org/jboss/resteasy/core/ResteasyHttpServletResponseWrapper.html#setStatus(int,%20java.lang.String)
        tag:
        - resteasy
        title: Deprecated method ResteasyHttpServletResponseWrapper#setStatus in RESTEasy
          3
        category-id: optional
        effort: 1
  - when:
      javaclass:
      - location:
        - METHOD_CALL
        references: org.jboss.resteasy.plugins.providers.jaxb.SecureUnmarshaller.setValidating{*}
    perform:
      hint:
      - message: RESTEasy 3 deprecates method `org.jboss.resteasy.plugins.providers.jaxb.SecureUnmarshaller#setValidating`
          without a replacement.
        link:
        - value: ""
          title: RESTEasy SPI Application Changes
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#migrate_resteasy_deprecated_classes
        - value: ""
          title: RESTEasy javadoc for SecureUnmarshaller#setValidating
          href: https://docs.jboss.org/resteasy/docs/3.0.16.Final/javadocs/org/jboss/resteasy/plugins/providers/jaxb/SecureUnmarshaller.html#setValidating(boolean)
        tag:
        - resteasy
        title: Deprecated method SecureUnmarshaller#setValidating in RESTEasy 3
        category-id: optional
        effort: 1
  - when:
      javaclass:
      - location:
        - METHOD_CALL
        references: org.jboss.resteasy.auth.oauth.OAuthValidator.validateMessage{*}
    perform:
      hint:
      - message: RESTEasy 3 deprecates `org.jboss.resteasy.auth.oauth.OAuthValidator#validateMessage`
          method without a replacement.
        link:
        - value: ""
          title: RESTEasy SPI Application Changes
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/migration_guide/#migrate_resteasy_deprecated_classes
        - value: ""
          title: RESTEasy javadoc for OAuthValidator#validateMessage
          href: https://docs.jboss.org/resteasy/docs/3.0.16.Final/javadocs/org/jboss/resteasy/auth/oauth/OAuthValidator.html#validateMessage(net.oauth.OAuthMessage,%20net.oauth.OAuthAccessor)
        tag:
        - resteasy
        title: Deprecated method OAuthValidator#validateMessage in RESTEasy 3
        category-id: optional
        effort: 1
  - when:
      javaclass:
      - location:
        - ANNOTATION
        annotation-literal:
          name: value
          pattern: '{*}yaml'
        references: javax.ws.rs.Produces
    perform:
      iteration:
      - when:
          not:
          - file-exists:
            - filename: javax.ws.rs.ext.Providers
        perform:
          hint:
          - message: "The resteasy-yaml-provider module is not recommended to use
              due security issue in SnakeYAML library used by RESTEasy for unmarshaling.
              \n                            If you would like to use YAML Resteasy
              Provider even it is not recommended, \n                            you
              need to add the SnakeYAML library (Maven dependency) into your application
              and enable it by creating file `META-INF/services/javax.ws.rs.ext.Providers`
              with line `org.jboss.resteasy.plugins.providers.YamlProvider` in that
              file and your application.\n                        "
            link:
            - value: ""
              title: Yaml unmarshalling vulnerable to RCE
              href: https://bugzilla.redhat.com/show_bug.cgi?id=1400644
            - value: ""
              title: RESTEasy YAML Provider Setting Changes
              href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.1/html-single/migration_guide/#migrate_resteasy_yaml_provider_setting_changes
            - value: ""
              title: RESTEasy YAML Provider
              href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.0/html-single/developing_web_services_applications/#jaxrs_yaml_provider
            tag:
            - resteasy
            - yaml
            title: Resteasy Yaml Provider is deprecated and disabled by default
            category-id: mandatory
            effort: 3
  - when:
      or:
      - javaclass:
        - location:
          - ANNOTATION
          annotation-literal:
            name: value
            pattern: application/x-java-serialized-object
          references: javax.ws.rs.Produces
        - location:
          - ANNOTATION
          annotation-literal:
            name: value
            pattern: application/x-java-serialized-object
          references: javax.ws.rs.Consumes
    perform:
      iteration:
      - when:
          not:
          - file-exists:
            - filename: javax.ws.rs.ext.Providers
        perform:
          hint:
          - message: "Deserializing Java objects from untrusted sources is not safe.
              For this reason, \n                            the `org.jboss.resteasy.plugins.providers.SerializableProvider`
              class is disabled by default, and it is not recommended to use this
              provider. \n                            If you need to enable it even
              against the recommendation, create or update file `META-INF/services/javax.ws.rs.ext.Providers`
              with adding line with `org.jboss.resteasy.plugins.providers.SerializableProvider`
              string.\n                            "
            link:
            - value: ""
              title: RESTEasy SerializableProvider
              href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.1/html-single/migration_guide/#migrate_resteasy_serializableprovider
            - value: ""
              title: SerializableProvider Java API documentation
              href: http://docs.jboss.org/resteasy/docs/3.1.2.Final/javadocs/org/jboss/resteasy/plugins/providers/SerializableProvider.html
            tag:
            - resteasy
            title: Resteasy SerializableProvider is disabled by default
            category-id: mandatory
            effort: 1
  - when:
      or:
      - javaclass:
        - location:
          - ANNOTATION
          annotation-literal:
            name: value
            pattern: application/xml{*}
          references: javax.ws.rs.Produces
        - location:
          - ANNOTATION
          annotation-literal:
            name: value
            pattern: text/{*}
          references: javax.ws.rs.Produces
    perform:
      hint:
      - message: "RESTEasy fixes the issue when it doesn't set/add correctly character
          set meta data specified in JAX-RS specification. Therefore UTF-8 as the
          character set for text media types is set by default.\n                    This
          behavior results in adding `charset=UTF-8` string to the returned content-type
          header when the resource method returns a `text/*` or `application/xml*`
          media type without an explicit charset.\n                    The behavior
          is controlled by `resteasy.add.charset` parameter which is set to `true`
          by default and you can customize the `resteasy.add.charset` parameter to
          `false` in _web.xml_'s `context-param` element \n                    in
          case of wanting to keep previous behavior.\n                    "
        link:
        - value: ""
          title: RESTEasy Default Charset UTF-8 in Content-Type Header
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.1/html/migration_guide/application_migration_changes#migrate_resteasy_default_charset_utf8_in_content_type_header
        - value: ""
          title: RESTEasy Text media types and character sets
          href: http://docs.jboss.org/resteasy/docs/3.1.4.Final/userguide/html_single/index.html#Text_media_types
        tag:
        - resteasy
        - charset
        title: RESTEasy Text default charset response changed
        category-id: optional
        effort: 1
sourceFile: http://github.com/windup/windup-rulesets/tree/master/rules/rules-reviewed/eap7/eap6/resteasy.windup.xml
