metadata:
- description: "\n            This ruleset provides analysis of applications that
    Picketlink STS and may require\n            individual attention when migrating
    to JBoss EAP 7.2.\n        "
  dependencies:
    addon:
    - id: org.jboss.windup.rules,windup-rules-javaee,3.0.0.Final
    - id: org.jboss.windup.rules,windup-rules-java,3.0.0.Final
  sourceTechnology:
  - id: eap
    versionRange: (,7.1]
  targetTechnology:
  - id: eap
    versionRange: '[7,8)'
  tag:
  - picketlink
rules:
  rule:
  - when:
      javaclass:
      - location:
        - METHOD_CALL
        references: org.picketlink.identity.federation.api.wstrust.WSTrustClient.issueToken{*}
    perform:
      hint:
      - message: "\n                        JBoss EAP 7.2 PicketLink STS issues tokens
          with a different format, which may require changes in applications such
          as EJB clients.  \n                        Please refer to the JBoss EAP
          7.2 Migration Guide section with respect to this migration issue, and how
          to resolve it.\n                    "
        link:
        - value: ""
          title: JBoss EAP 7.2 Migration Guide
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.2/html/migration_guide/application_migration_changes#migrate_ejb_client_code_to_eap_72
        tag:
        - picketlink
        title: Picketlink STS token format change
        category-id: mandatory
        effort: 1
sourceFile: http://github.com/windup/windup-rulesets/tree/master/rules/rules-reviewed/eap7/eap71/picketlink25.windup.xml
