metadata:
- description: "\n            This ruleset provides analysis of HA Singleton legacy
    applications, which API was deprecated, starting with JBoss EAP 7.3.\n        "
  dependencies:
    addon:
    - id: org.jboss.windup.rules,windup-rules-javaee,3.0.0.Final
    - id: org.jboss.windup.rules,windup-rules-java,3.0.0.Final
  targetTechnology:
  - id: eap
    versionRange: '[7,8)'
rules:
  rule:
  - when:
      javaclass:
      - location:
        - IMPORT
        references: org.wildfly.clustering.singleton.SingletonPolicy
    perform:
      hint:
      - message: The application imports class `org.wildfly.clustering.singleton.SingletonPolicy`,
          from deprecated HA Singleton API.
        link:
        - value: ""
          title: 'Red Hat JBoss EAP 7.3: HA Singleton Service'
          href: https://access.redhat.com/documentation/en-us/red_hat_jboss_enterprise_application_platform/7.3/html-single/development_guide/index#clustered_ha_singleton_service
        title: Deprecated HA Singleton API
        category-id: potential
        effort: 1
sourceFile: http://github.com/windup/windup-rulesets/tree/master/rules/rules-reviewed/eap7/eap72/deprecated-singletonpolicy.rhamt.xml
