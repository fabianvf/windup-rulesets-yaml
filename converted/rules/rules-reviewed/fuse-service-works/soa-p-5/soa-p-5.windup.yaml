metadata:
- description: "\n            This ruleset provides analysis of JBoss SOA Platform
    5 applications and provides information on\n            how to migrate these to
    Red Hat JBoss Fuse Service Works\n        "
  dependencies:
    addon:
    - id: org.jboss.windup.rules,windup-rules-javaee,2.3.0.Final
    - id: org.jboss.windup.rules,windup-rules-java,2.3.0.Final
  sourceTechnology:
  - id: soa-p
    versionRange: (,5]
  targetTechnology:
  - id: fsw
    versionRange: '[6,)'
  tag:
  - jboss-esb
rules:
  rule:
  - when:
      javaclass:
      - references: org.jboss.soa.esb.message.Message
        as: javaclasses
        in: '{javaclassname}'
      xmlfile:
      - as: xmlclass
        matches: //*[local-name()='action' and not(starts-with(@class, 'org.jboss.soa.esb.actions'))
          and not(starts-with(@class, 'org.jboss.soa.esb.smooks')) and windup:matches(@class,
          '{javaclassname}')]/@class
    perform:
      iteration:
      - hint:
        - message: "\n                            \n                                Custom
            action classes should be migrated to CDI Beans in Fuse Service Works.
            These beans can be defined as services or called directly from a Camel
            route.\n\n                                For more information, see the
            [Action Class Migration Guide](https://github.com/windup/soa-migration/blob/master/advice/action-class-migration.md).\n
            \                           \n                        "
          tag:
          - jboss-esb
          title: JBoss ESB 5 Action Handler
          effort: 3
        over: xmlclass
      - classification:
        - description:
          - "\n                            \n                                Custom
            action classes should be migrated to CDI Beans in Fuse Service Works.
            These beans can be defined as services or called directly from a Camel
            route.\n                            \n                        "
          link:
          - value: ""
            title: Action Class Migration
            href: https://github.com/windup/soa-migration/blob/master/advice/action-class-migration.md
          tag:
          - jboss-esb
          title: JBoss ESB 5 Action Handler
          effort: 3
          issue-display-mode: detail-only
        over: javaclasses
    where:
    - matches:
      - value: ""
        pattern: .*
      param: javaclassname
  - when:
      xmlfile:
      - matches: /jbossesb-deployment
    perform:
      classification:
      - tag:
        - jboss-esb
        title: JBoss ESB Deployment Descriptor
        effort: 13
        issue-display-mode: all
  - when:
      xmlfile:
      - matches: /*[local-name()='jbossesb']
    perform:
      classification:
      - link:
        - value: ""
          title: Action Pipeline Migration
          href: https://github.com/windup/soa-migration/blob/master/advice/action-pipeline-migration.md
        tag:
        - jboss-esb
        title: JBoss ESB Pipeline Configuration
        effort: 7
        issue-display-mode: all
  - when:
      xmlfile:
      - matches: /*[local-name()='smooks-resource-list']
    perform:
      classification:
      - link:
        - value: ""
          title: Smooks Development Guide
          href: https://access.redhat.com/documentation/en-us/Red_Hat_JBoss_Fuse_Service_Works/6.0/html/Development_Guide_Volume_2_Smooks/
        tag:
        - smooks
        title: Smooks Configuration
        issue-display-mode: detail-only
  - when:
      xmlfile:
      - matches: //*[local-name()='jms-listener' and @is-gateway='true']/@name
    perform:
      iteration:
      - hint:
        - message: "\n                            \n                                This
            listener requires a composite service binding in Fuse Service Works. The
            configuration for a JCA or JMS binding can be found in the jms-bus definition\n
            \                               associated with this listener.\n\n                                For
            additional information, see the\n                                [Gateway
            Listener Migration Guide](https://github.com/windup/soa-migration/blob/master/advice/gateway-listener-migration.md).\n
            \                           \n                        "
          tag:
          - jboss-esb
          title: JMS Gateway Listener
          effort: 3
  - when:
      xmlfile:
      - matches: //*[local-name()='jms-listener' and (not(@is-gateway) or @is-gateway='false')]/@name
    perform:
      hint:
      - message: An ESB-aware listener is no longer required in Fuse Service Works.
        tag:
        - jboss-esb
        title: ESB-Aware Listener (non-gateway)
        effort: 1
  - when:
      xmlfile:
      - matches: //*[local-name()='service']/@name
    perform:
      hint:
      - message: "\n                        \n                            Each <service>
          definition in SOA-P 5 represents a service which can be\n                            called
          from outside the application through an ESB listner.  The\n                            equivalent
          definition in Fuse Service Works is a composite service.\n\n                            For
          additional information, see the\n                            [Service Migration
          Guide](https://github.com/windup/soa-migration/blob/master/advice/service-migration.md).\n
          \                       \n                    "
        tag:
        - jboss-esb
        title: JBoss SOA-P Service
        effort: 3
  - when:
      xmlfile:
      - matches: //*[local-name()='actions']
    perform:
      hint:
      - message: "\n                        \n                            The logic
          and execution flow of a service in SOA-P 5 is defined in an\n                            action
          processing pipeline. This logic is\n                            contained
          within a service component definition and expressed\n                            using
          any of the available implementation types in Fuse Service Works.\n\n                            For
          additional information see: the [Action Pipeline Migration Guide](https://github.com/windup/soa-migration/blob/master/advice/action-pipeline-migration.md)\n
          \                       \n                    "
        tag:
        - jboss-esb
        title: JBoss SOA-P Action Pipeline
        effort: 5
  - when:
      xmlfile:
      - matches: //*[local-name()='hibernate-bus']/@busid
    perform:
      hint:
      - message: "\n                        \n                            Although
          Camel has both Hibernate and JPA components that are\n                            useful
          in consuming records, there isn't any support for Hibernate events.\n\n
          \                           To migrate this to SwitchYard you may have to\n
          \                           build a custom SwitchYard component using Hibernate\n
          \                           listeners, or redesign your requirements to
          leverage the\n                            existing Camel components available
          (Hibernate/JPA/SQL)\n                            in this area.\n                        \n
          \                   "
        tag:
        - jboss-esb
        title: 'Service Binding: Hibernate Bus'
        effort: 13
  - when:
      xmlfile:
      - matches: //*[local-name()='jms-bus']/@busid
    perform:
      hint:
      - message: "\n                        \n                            A jms-bus
          definition can be converted to a JMS or JCA gateway\n                            binding
          on a composite service in SwitchYard. If the jms-bus\n                            configuration
          is used for a non-gateway listener, it does not\n                            need
          to be migrated to Fuse Service Works.\n\n                            For
          additional information, see the\n                            [JMS Bus Migration
          Guide](https://github.com/windup/soa-migration/blob/master/advice/jms-bus-migration.md).\n
          \                       \n                    "
        tag:
        - jboss-esb
        title: JMS Bus Definition
        effort: 3
  - when:
      xmlfile:
      - matches: //*[local-name()='ftp-bus']/@busid
    perform:
      hint:
      - message: "\n                        \n                            A ftp-bus
          definition can be converted to a FTP gateway\n                            binding
          on a composite service in SwitchYard.\n\n                            For
          additional information, see the\n                            [FTP Bus Migration
          Guide](https://github.com/windup/soa-migration/blob/master/advice/ftp-bus-migration.md).\n
          \                       \n                    "
        tag:
        - jboss-esb
        title: FTP Bus Definition
        effort: 3
  - when:
      xmlfile:
      - matches: //*[local-name()='camel-bus']/@busid
    perform:
      hint:
      - message: "\n                        \n                            A camel-bus
          definition can be converted to a Camel gateway\n                            binding
          on a composite service in SwitchYard.\n\n                            For
          additional information, see the\n                            [Camel Bus
          Migration Guide](https://github.com/windup/soa-migration/blob/master/advice/camel-bus-migration.md)\n
          \                       \n                    "
        tag:
        - camel
        title: Camel Bus Definition
        effort: 3
  - when:
      xmlfile:
      - matches: //*[local-name()='udp-listener']
    perform:
      hint:
      - message: "\n                        \n                            A UDP Listener
          definition can be converted to a TCP/UDP\n                            gateway
          binding on a composite service in SwitchYard.\n                        \n
          \                   "
        link:
        - value: ""
          title: TCP/UDP Gateway
          href: https://access.redhat.com/documentation/en-us/Red_Hat_JBoss_Fuse_Service_Works/6.0/html/Development_Guide_Volume_1_SwitchYard/chap-Gateways.html#sect-TCP_UDP
        tag:
        - jboss-esb
        title: UDP Listener Configuration
        effort: 3
  - when:
      xmlfile:
      - matches: //*[local-name()='jms-jca-provider']
    perform:
      hint:
      - message: "\n                        \n                            A jms-jca-provider
          definition can be converted to a JCA\n                            gateway
          binding on a composite service in Fuse Service Works.\n                        \n
          \                   "
        link:
        - value: ""
          title: JCA Gateway Binding
          href: https://access.redhat.com/documentation/en-us/Red_Hat_JBoss_Fuse_Service_Works/6.0/html/Development_Guide_Volume_1_SwitchYard/chap-Gateways.html#sect-JCA
        tag:
        - jboss-esb
        title: JMS JCA Provider
        effort: 3
  - when:
      xmlfile:
      - matches: //*[local-name()='http-provider']
    perform:
      hint:
      - message: "\n                        \n                            A http-provider
          definition can be converted to a HTTP gateway\n                            binding
          on a composite service in Fuse Service Works.\n\n                            For
          additional information, see the\n                            [Gateway Listener
          Migration Guide](https://github.com/windup/soa-migration/blob/master/advice/gateway-listener-migration.md).\n
          \                       \n                    "
        tag:
        - soa-p
        title: HTTP Provider
        effort: 3
  - when:
      xmlfile:
      - matches: //*[local-name()='cron-schedule']
    perform:
      hint:
      - message: "\n                        \n                            A cron-schedule
          definition can be converted to a Quartz\n                            gateway
          binding on a composite service in Fuse Service Works.\n\n                            For
          additional information, see the\n                            [Cron Scheduler
          Migration Guide](https://github.com/windup/soa-migration/blob/master/advice/cron-schedule-migration.md).\n
          \                       \n                    "
        tag:
        - jboss-esb
        title: Cron Schedule
        effort: 3
  - when:
      xmlfile:
      - matches: //*[local-name()='ftp-listener' and @is-gateway='true']/@name
    perform:
      hint:
      - message: "\n                        \n                            This listener
          requires a composite service binding in Fuse Service Works. The configuration
          for a FTP binding\n                            can be found in the ftp-bus
          definition associated with this listener.\n\n                            For
          additional information, see the\n                            [Gateway Listener
          Migration Guide](https://github.com/windup/soa-migration/blob/master/advice/gateway-listener-migration.md).\n
          \                       \n                    "
        tag:
        - jboss-esb
        title: FTP Gateway Listener
        effort: 3
  - when:
      xmlfile:
      - matches: //*[local-name()='camel-gateway']/@busidref
    perform:
      hint:
      - message: "\n                        \n                            This gateway
          requires a composite service binding in Fuse Service Works.\n                            The
          configuration for a Camel binding can be found in the camel-bus definition
          associated\n                            with this listener.\n\n                            For
          additional information, see the\n                            [Gateway Listener
          Migration Guide](https://github.com/windup/soa-migration/blob/master/advice/gateway-listener-migration.md).\n
          \                       \n                    "
        tag:
        - jboss-esb
        - camel
        title: Camel Gateway Listener
        effort: 3
  - when:
      xmlfile:
      - matches: //*[local-name()='http-gateway']/@name
    perform:
      hint:
      - message: "\n                        \n                            A <http-gateway>
          can be replaced in Fuse Service Works by a http binding added to your composite
          service.\n\n                            For additional information, see
          the\n                            [HTTP Gateway Migration Guide](https://github.com/windup/soa-migration/blob/master/advice/http-gateway-migration.md).\n
          \                       \n                    "
        tag:
        - jboss-esb
        title: HTTP Gateway Listener
        effort: 3
  - when:
      xmlfile:
      - matches: //*[local-name()='action' and @class='org.jboss.soa.esb.smooks.SmooksAction']/@class
    perform:
      hint:
      - message: "\n                        \n                            Fuse Service
          Works uses a <transform> to replace the invocation\n                            of
          as SmooksAction to transform message content. You most likely will want
          to use a Smooks transform\n                            to specify your Smooks
          configuration and from/to types.\n\n                            For additional
          information, see the\n                            [Transformation Migration
          Guide](https://github.com/windup/soa-migration/blob/master/advice/transformation-migration.md).\n
          \                       \n                    "
        tag:
        - smooks
        title: Smooks Transformation Action
        effort: 3
  - when:
      xmlfile:
      - matches: //*[local-name()='property' and @name='smooksConfig']/@name
    perform:
      hint:
      - message: "\n                        \n                            In a Fuse
          Service Works Smooks transform, you can specify your Smooks configuration
          with the &quot;config&quot; attribute.\n\n                            For
          additional information, see the\n                            [Transformation
          Migration Guide](https://github.com/windup/soa-migration/blob/master/advice/transformation-migration.md).\n
          \                       \n                    "
        tag:
        - smooks
        title: Smooks Config
        effort: 3
  - when:
      xmlfile:
      - matches: //*[local-name()='action' and @class='org.jboss.soa.esb.smooks.SmooksAction']/*[local-name()='property'
          and @name='resultType']
    perform:
      hint:
      - message: "\n                        \n                            Fuse Service
          Works uses a <transform> to replace the invocation of as SmooksAction\n
          \                           to transform message content. You most likely
          will want to use a Smooks transform\n                            to specify
          your Smooks configuration and from/to types.\n\n                            For
          additional information, see the\n                            [Transformation
          Migration Guide](https://github.com/windup/soa-migration/blob/master/advice/transformation-migration.md).\n
          \                       \n                    "
        tag:
        - smooks
        title: Smooks Result Type
        effort: 3
  - when:
      xmlfile:
      - matches: //*[local-name()='action' and @class='org.jboss.soa.esb.actions.soap.proxy.SOAPProxy']/@class
    perform:
      hint:
      - message: "\n                        \n                            Instead
          of the JBoss ESB SOAPProxy action which transforms a specified WSDL and
          rewrites the address to the JBoss ESB server,\n                            Fuse
          Service Works relies on Camel's routing capability to forward requests from
          a proxying service to the source.\n                            Create a
          proxy service and a reference to the original service, and then use Camel
          to route them.\n\n                            For additional information,
          see the\n                            [SOAPProxy Migration Guide](https://github.com/windup/soa-migration/blob/master/advice/soap-proxy.md).\n
          \                       \n                    "
        tag:
        - jboss-esb
        title: ESB SOAP Proxy
        effort: 3
  - when:
      xmlfile:
      - matches: //*[local-name()='action' and @class='org.jboss.soa.esb.actions.SystemPrintln']/@class
    perform:
      hint:
      - message: "\n                        \n                            In order
          to log your message (or a static logging message), you may want to create
          a Bean service which logs the message in the manner you wish, or you can
          use Camel routing to log static\n                            logging messages.\n\n
          \                           For additional information, see the\n                            [Action
          Class Migration Guide](https://github.com/windup/soa-migration/blob/master/advice/action-class-migration.md).\n
          \                       \n                    "
        tag:
        - jboss-esb
        title: ESB SystemPrintln Action
        effort: 3
  - when:
      xmlfile:
      - matches: //*[local-name()='action' and @class='org.jboss.soa.esb.actions.StaticRouter']/@class
    perform:
      hint:
      - message: "\n                        \n                            In order
          to configure static routes for your message in\n                            Fuse
          Service Works, you should use Camel's routing (either through Java DSL routes
          or route.xml).\n\n                            For additional information,
          see the\n                            [Action Class Migration Guide](https://github.com/windup/soa-migration/blob/master/advice/action-class-migration.md).\n
          \                       \n                    "
        tag:
        - jboss-esb
        title: ESB Static Router
        effort: 3
  - when:
      xmlfile:
      - matches: //*[local-name()='action' and @class='org.jboss.soa.esb.actions.routing.JMSRouter']/@class
    perform:
      hint:
      - message: "\n                        \n                            In order
          to replace the use of the JMSRouter in Fuse Service Works, you should use
          a JMS binding. You may need to review the options for JMS bindings in\n
          \                           Fuse Service Works if you are using the unwrap
          property.\n\n                            For additional information, see
          the\n                            [Action Class Migration Guide](https://github.com/windup/soa-migration/blob/master/advice/action-class-migration.md).\n
          \                       \n                    "
        tag:
        - jboss-esb
        title: ESB JMS Router
        effort: 3
  - when:
      xmlfile:
      - matches: //*[local-name()='action' and @class='org.jboss.soa.esb.actions.TestMessageStore']/@class
    perform:
      hint:
      - message: "\n                        \n                            TestMessageStore
          is an out-of-the-box ESB action that is used in JBoss Application Server\n
          \                           container tests to store a message with some
          form of logging - to a file, JMX, etc. TestMessageStore is used throughout\n
          \                           the JBoss ESB sample projects to help test the
          results of processed messages.\n\n                            Fuse Service
          Works is able to leverage Arquillian to do container testing, so TestMessageStore
          is not\n                            necessary for testing. This action should
          simply be removed during the migration.\n                        \n                    "
        tag:
        - jboss-esb
        title: ESB Test Message Store
        effort: 3
  - when:
      xmlfile:
      - matches: //*[local-name()='action' and @class='org.jboss.soa.esb.actions.scripting.GroovyActionProcessor']/@class
    perform:
      hint:
      - message: "\n                        \n                            The GroovyActionProcessor
          action executes a Groovy script. You can duplicate this functionality in\n
          \                           Fuse Service Works through Camel routing (both
          Java and XML.)\n\n                            For additional information,
          see the\n                            [Camel Scripting Guide](https://access.redhat.com/documentation/en-us/Red_Hat_JBoss_Fuse_Service_Works/6.0/html/Development_Guide_Volume_1_SwitchYard/chap-Service_Implementations.html#Using_Scripting_Languages).\n
          \                       \n                    "
        tag:
        - jboss-esb
        title: ESB GroovyActionProcessor
        effort: 3
  - when:
      xmlfile:
      - matches: //*[local-name()='action' and @class='org.jboss.soa.esb.services.jbpm.actions.BpmProcessor']/@class
    perform:
      hint:
      - message: "\n                        \n                            The BpmProcessor
          makes calls to jBPM 3 through the jBPM command API. Fuse Service Works supports
          jBPM 5, so you will need\n                            to migrate your existing
          workflow from jBPM 3 to jBPM 5 and use a Fuse Service Works BPM implementation.\n\n
          \                           For additional information, see the\n                            [BPM
          Migration Guide](https://github.com/windup/soa-migration/blob/master/advice/bpm_migration.md).\n
          \                       \n                    "
        tag:
        - jboss-esb
        title: ESB BpmProcessor
        effort: 3
  - when:
      xmlfile:
      - matches: //*[local-name()='fs-bus']/@busid
    perform:
      hint:
      - message: "\n                        \n                            A fs-bus
          definition can be converted to a Camel binding on a composite service in
          Fuse Service Works.\n\n                            For additional information,
          see the\n                            [Gateway Listener Migration Guide](https://github.com/windup/soa-migration/blob/master/advice/gateway-listener-migration.md).\n
          \                       \n                    "
        tag:
        - jboss-esb
        title: ESB Filesystem Bus
        effort: 3
  - when:
      xmlfile:
      - matches: //*[local-name()='action' and @class='org.jboss.soa.esb.actions.Notifier']/@class
    perform:
      hint:
      - message: "\n                        \n                            JBoss ESB
          uses notifiers to transform ESB aware messages to a format that ESB-unaware
          services can handle. Fuse Service Works uses bi-directional gateways to
          transfer messages\n                            via its service bindings.\n\n
          \                           A JBoss ESB Notifier should be converted to
          a Fuse Service Works Service Binding.\n\n                            For
          example:\n\n                            ```xml\n                            <service
          category=\"routerToFile\" name=\"FileRouterListener\" description=\"Static
          route file destination\">\n                                <actions mep=\"OneWay\">\n
          \                                   <action name=\"notificationAction\"
          class=\"org.jboss.soa.esb.actions.Notifier\">\n                                        <property
          name=\"okMethod\" value=\"notifyOK\"/>\n                                        <property
          name=\"notification-details\">\n                                            <NotificationList
          type=\"ok\">\n                                                <target class=\"NotifyFiles\">\n
          \                                                   <file append=\"false\"
          URI=\"/tmp/HelloWorldFileNotifierTest.log\"/>\n                                                </target>\n
          \                                           </NotificationList>\n                                        </property>\n
          \                                   </action>\n                                </actions>\n
          \                           </service>\n                            ```\n\n\n
          \                           Could be translated to:\n\n                            ```xml\n
          \                           <sca:reference name=\"HelloWorld\" multiplicity=\"0..1\"
          promote=\"MyComponent/HelloWorld\">\n                                <camel:binding.file>\n
          \                                   <camel:directory>/tmp</camel:directory>\n
          \                                   <camel:fileName>HelloWorldFileNotifierTest.log</camel:fileName>\n
          \                               </camel:binding.file>\n                            </sca:reference>\n
          \                           <sca:component name=\"MyComponent\">\n                                <sca:reference
          name=\"HelloWorld\">\n                                    <sca:interface.wsdl
          interface=\"HelloWorld.wsdl#wsdl.porttype(HelloWorld)\"/>\n                                </sca:reference>\n
          \                           </sca:component>\n                            ```\n
          \                       \n                    "
        tag:
        - jboss-esb
        title: ESB Notifier Action
        effort: 7
  - when:
      xmlfile:
      - matches: //*[local-name()='action' and @class='org.jboss.soa.esb.actions.converters.ByteArrayToString']/@class
    perform:
      hint:
      - message: "\n                        \n                            JBoss ESB
          uses a ByteArrayToString action to do conversion on a message body. In Fuse
          Service Works\n                            you would use Camel to do type
          conversion.\n                        \n                    "
        link:
        - value: ""
          title: Camel convertBodyTo
          href: http://camel.apache.org/convertbodyto.html
        - value: ""
          title: Camel Type Converters
          href: http://camel.apache.org/type-converter.html
        tag:
        - jboss-esb
        title: ESB ByteArrayToString
        effort: 3
  - when:
      xmlfile:
      - matches: //*[local-name()='action' and @class='org.jboss.soa.esb.actions.converters.LongToDateConverter']/@class
    perform:
      hint:
      - message: "\n                        \n                            JBoss ESB
          uses the LongToDateConverter action to do conversion on a message body.\n\n
          \                           In Fuse Service Works you would use Camel to
          do type conversion.\n                        \n                    "
        link:
        - value: ""
          title: Camel Type Converters
          href: http://camel.apache.org/type-converter.html
        tag:
        - jboss-esb
        title: ESB LongToDateConverter
        effort: 3
  - when:
      xmlfile:
      - matches: //*[local-name()='action' and @class='org.jboss.soa.esb.actions.converters.ObjectToCSVString']/@class
    perform:
      hint:
      - message: "\n                        \n                            JBoss ESB
          uses the ObjectToCSVString action to do conversion on a message body. Fuse
          Service Works\n                            would use a Smooks transform
          or a Camel route to perform this type of conversion.\n\n                            For
          additional information, see the\n                            [Transformation
          Migration Guide](https://github.com/windup/soa-migration/blob/master/advice/transformation-migration.md).\n
          \                       \n                    "
        tag:
        - jboss-esb
        title: ESB ObjectToCSVString
        effort: 3
  - when:
      xmlfile:
      - matches: //*[local-name()='action' and @class='org.jboss.soa.esb.actions.converters.ObjectInvoke']/@class
    perform:
      hint:
      - message: "\n                        \n                            JBoss ESB
          uses a ObjectInvoke action to invoke a processor on a message.\n                            Fuse
          Service Works would use a bean component to do this.\n                        \n
          \                   "
        link:
        - value: ""
          title: Fuse Service Works Bean Component
          href: https://access.redhat.com/documentation/en-us/Red_Hat_JBoss_Fuse_Service_Works/6.0/html/Development_Guide_Volume_1_SwitchYard/chap-Service_Implementations.html#sect-Bean
        tag:
        - jboss-esb
        title: ESB ObjectInvoke
        effort: 3
  - when:
      xmlfile:
      - matches: //*[local-name()='action' and @class='org.jboss.soa.esb.actions.converters.ObjectToXStream']/@class
    perform:
      hint:
      - message: "\n                            \n                                JBoss
          ESB uses an ObjectToXStream action to do convert an Object payload to XML
          using the XStream\n                                processor. Fuse Service
          Works would use a Smooks transform or a Camel route to do this type of conversion.\n\n
          \                               For additional information, see the\n                                [Transformation
          Migration Guide](https://github.com/windup/soa-migration/blob/master/advice/transformation-migration.md).\n
          \                           \n                        "
        tag:
        - jboss-esb
        title: ESB ObjectToXStream
        effort: 3
  - when:
      xmlfile:
      - matches: //*[local-name()='action' and @class='org.jboss.soa.esb.actions.converters.XStreamToObject']/@class
    perform:
      hint:
      - message: "\n                        \n                            JBoss ESB
          uses an XStreamToObject action to convert XML in a payload to an object
          using the XStream processor.\n                            Fuse Service Works
          would use Smooks transform or a Camel route transform to do this type of
          conversion.\n\n                            For additional information, see
          the\n                            [Transformation Migration Guide](https://github.com/windup/soa-migration/blob/master/advice/transformation-migration.md).\n
          \                       \n                    "
        tag:
        - jboss-esb
        title: ESB XStreamToObject
        effort: 3
  - when:
      xmlfile:
      - matches: //*[local-name()='action' and @class='org.jboss.soa.esb.actions.transformation.xslt.XsltAction']/@class
    perform:
      hint:
      - message: "\n                        \n                            JBoss ESB
          uses the XsltAction action to transform documents in a payload. Fuse Service
          Works would use Camel to do this type of\n                            conversion.\n\n
          \                           For additional information, see the\n                            [Transformation
          Migration Guide](https://github.com/windup/soa-migration/blob/master/advice/transformation-migration.md).\n
          \                       \n                    "
        tag:
        - jboss-esb
        title: ESB XsltAction
        effort: 3
  - when:
      xmlfile:
      - matches: //*[local-name()='action' and @class='org.jboss.soa.esb.actions.converters.SmooksTransformer']/@class
    perform:
      hint:
      - message: "\n                        \n                            Fuse Service
          Works uses a &lt;transform&gt; to replace the invocation of a SmooksTransformer
          to transform message content.\n                            You will need
          to use a Smooks transform to specify your Smooks configuration and from/to
          types.\n\n                            For additional information, see the\n
          \                           [Transformation Migration Guide](https://github.com/windup/soa-migration/blob/master/advice/transformation-migration.md).\n
          \                       \n                    "
        link:
        - value: ""
          title: Smooks Development Guide
          href: https://access.redhat.com/documentation/en-us/Red_Hat_JBoss_Fuse_Service_Works/6.0/html/Development_Guide_Volume_2_Smooks/
        tag:
        - jboss-esb
        title: ESB SmooksTransformer
        effort: 3
  - when:
      xmlfile:
      - matches: //*[local-name()='action' and @class='org.jboss.soa.esb.actions.MessagePersister']/@class
    perform:
      hint:
      - message: "\n                        \n                            JBoss ESB
          uses the MessagePersister action to persist a message. Fuse Service Works
          would use\n                            a [SQL reference binding](https://access.redhat.com/documentation/en-us/Red_Hat_JBoss_Fuse_Service_Works/6.0/html/Development_Guide_Volume_1_SwitchYard/chap-Gateways.html#sect-SQL)
          to accomplish something similar.\n                        \n                    "
        tag:
        - jboss-esb
        title: ESB MessagePersister
        effort: 3
  - when:
      xmlfile:
      - matches: //*[local-name()='action' and @class='org.jboss.soa.esb.actions.EJBProcessor']/@class
    perform:
      hint:
      - message: "\n                        \n                            JBoss ESB
          uses the EJBProcessor action to invoke a stateless session bean with the
          contents of a message.\n                            Similar things can be
          achieved in Fuse Service Works through the use ofa bean service.\n                        \n
          \                   "
        link:
        - value: ""
          title: Fuse Service Works Bean Component
          href: https://access.redhat.com/documentation/en-us/Red_Hat_JBoss_Fuse_Service_Works/6.0/html/Development_Guide_Volume_1_SwitchYard/chap-Service_Implementations.html#sect-Bean
        tag:
        - jboss-esb
        title: ESB EJBProcessor
        effort: 3
  - when:
      xmlfile:
      - matches: //*[local-name()='action' and @class='org.jboss.soa.esb.actions.scripting.ScriptingAction']/@class
    perform:
      hint:
      - message: "\n                        \n                            The ScriptingAction
          executes a script using the BeanScriptingFramework. You can duplicate this
          functionality in Fuse Service Works\n                            through
          Camel routing (both Java and XML.)\n\n                            For additional
          information, see the\n                            [Camel Scripting Guide](https://access.redhat.com/documentation/en-us/Red_Hat_JBoss_Fuse_Service_Works/6.0/html/Development_Guide_Volume_1_SwitchYard/chap-Service_Implementations.html#Using_Scripting_Languages).\n
          \                       \n                    "
        tag:
        - jboss-esb
        title: ESB ScriptingAction
        effort: 3
  - when:
      xmlfile:
      - matches: //*[local-name()='action' and windup:matches(@class, 'org.jboss.soa.esb.actions.{javaclassname}')]/@class
    perform:
      hint:
      - message: "\n                        \n                            JBoss ESB
          uses the {javaclassname} action to aggregate a message sequence into a single
          aggregated message.\n                            Fuse Service Works would
          make use of Camel routing and Camel's aggregator to accomplish this.\n\n
          \                           For more information, see the\n                            [Camel
          Aggregator Documentation](http://camel.apache.org/aggregator.html).\n                        \n
          \                   "
        tag:
        - jboss-esb
        title: ESB {javaclassname}
        effort: 3
    where:
    - matches:
      - value: ""
        pattern: (StreamingAggregator)|(Aggregator)
      param: javaclassname
  - when:
      xmlfile:
      - matches: //*[local-name()='action' and @class='org.jboss.soa.esb.actions.routing.http.HttpRouter']/@class
    perform:
      hint:
      - message: "\n                        \n                            In order
          to replace the use of the HttpRouter in JBoss ESB, you should use a HTTP
          reference binding.\n\n                            Further documentation
          is available in the\n                            [Fuse Service Works Developer
          Guide](https://access.redhat.com/documentation/en-us/Red_Hat_JBoss_Fuse_Service_Works/6.0/html/Development_Guide_Volume_1_SwitchYard/chap-Gateways.html#sect-HTTP).\n
          \                       \n                    "
        tag:
        - jboss-esb
        title: ESB HTTP Router
        effort: 3
  - when:
      xmlfile:
      - matches: //*[local-name()='action' and @class='org.jboss.soa.esb.actions.routing.email.EmailRouter']/@class
    perform:
      hint:
      - message: "\n                        \n                            In order
          to replace the use of the EmailRouter in Fuse Service Works, you should
          use a mail reference binding.\n\n                            Further documentation
          is available in the\n                            [Fuse Service Works Developer
          Guide](https://access.redhat.com/documentation/en-us/Red_Hat_JBoss_Fuse_Service_Works/6.0/html/Development_Guide_Volume_1_SwitchYard/chap-Gateways.html#sect-Mail).\n
          \                       \n                    "
        tag:
        - jboss-esb
        title: ESB Email Router
        effort: 3
  - when:
      xmlfile:
      - matches: //*[local-name()='action' and @class='org.jboss.soa.esb.actions.ContentBasedRouter']/@class
    perform:
      hint:
      - message: "\n                        \n                            In order
          to replace the use of the ContentBasedRouter in Fuse Service Works, you
          should use Camel to route messages.\n\n                            A good
          example of this functionality can be found in the quickstarts project in
          the [rules-camel-jbr\n                            quickstart](https://github.com/jboss-switchyard/quickstarts/tree/master/rules-camel-cbr).\n
          \                       \n                    "
        tag:
        - jboss-esb
        title: ESB ContentBasedRouter
        effort: 3
  - when:
      xmlfile:
      - matches: //*[local-name()='action' and @class='org.jboss.soa.esb.actions.StaticWiretap']/@class
    perform:
      hint:
      - message: "\n                        \n                            In order
          to replace the use of the StaticWiretap in Fuse Service Works, you should
          use a\n                            [Camel Wiretap](http://camel.apache.org/wire-tap.html)
          to perform this action.\n                        \n                    "
        tag:
        - jboss-esb
        title: ESB StaticWiretap
        effort: 3
  - when:
      xmlfile:
      - matches: //*[local-name()='action' and @class='org.jboss.soa.esb.actions.StaticRouter']/@class
    perform:
      hint:
      - message: "\n                        \n                            In order
          to replace the use of the StaticRouter in Fuse Service Works, you should
          use Camel to route messages.\n\n                            Further information
          is available in the [Camel Integration Patterns Documentation](http://camel.apache.org/enterprise-integration-patterns.html).\n
          \                       \n                    "
        tag:
        - jboss-esb
        title: ESB Static Router
        effort: 3
  - when:
      xmlfile:
      - matches: //*[local-name()='action' and @class='org.jboss.soa.esb.actions.soap.SOAPProcessor']/@class
    perform:
      hint:
      - message: "\n                        \n                            In order
          to replace the use of the SOAPProcessor you should use a SOAP reference
          binding in Fuse Service Works.\n\n                            For more information,
          see the\n                            [Fuse Service Works Development Guide](https://access.redhat.com/documentation/en-us/Red_Hat_JBoss_Fuse_Service_Works/6.0/html/Development_Guide_Volume_1_SwitchYard/chap-Gateways.html#sect-SOAP).\n
          \                       \n                    "
        title: ESB SOAPProcessor
        effort: 3
  - when:
      xmlfile:
      - matches: //*[local-name()='action' and @class='org.jboss.soa.esb.actions.soap.SOAPClient']/@class
    perform:
      hint:
      - message: "\n                        \n                            In order
          to replace the use of the SOAPClient in Fuse Service Works, you should use
          a SOAP reference binding.\n\n                            For more information,
          see the\n                            [Fuse Service Works Development Guide](https://access.redhat.com/documentation/en-us/Red_Hat_JBoss_Fuse_Service_Works/6.0/html/Development_Guide_Volume_1_SwitchYard/chap-Gateways.html#sect-SOAP).\n
          \                       \n                    "
        tag:
        - jboss-esb
        title: ESB SOAPClient
        effort: 3
sourceFile: http://github.com/windup/windup-rulesets/tree/master/rules/rules-reviewed/fuse-service-works/soa-p-5/soa-p-5.windup.xml
