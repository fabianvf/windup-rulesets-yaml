metadata:
- description: "\n            This ruleset detects the Java Mail API, which may be
    problematic when migrating an application to a cloud environment.\n        "
  dependencies:
    addon:
    - id: org.jboss.windup.rules,windup-rules-javaee,3.0.0.Final
    - id: org.jboss.windup.rules,windup-rules-java,3.0.0.Final
  sourceTechnology:
  - id: java
  - id: java-ee
  targetTechnology:
  - id: cloud-readiness
  tag:
  - mail
rules:
  rule:
  - when:
      or:
      - javaclass:
        - references: javax.mail.{*}
        - references: com.sun.mail.{*}
        - references: org.simplejavamail.{*}
        - references: org.apache.commons.mail.{*}
    perform:
      hint:
      - message: "\n                    The configuration parameters of SMTP services
          for outbound mail may contain environment-specific values such as static
          IP addresses, host names, properties, credentials, or certificates.\n\n
          \                   Recommendations\n\n                    * In a cloud
          environment, mail systems should be considered backing services and treated
          like attached resources.\n                    * Ensure that the configuration
          of the underlying outbound mail connection is not environment-specific.\n
          \                   * In OpenShift Container Platform, store configuration
          parameters as environment variables or in a ConfigMap.\n                "
        link:
        - value: ""
          title: Twelve-factor app - Backing services
          href: https://12factor.net/backing-services
        - value: ""
          title: Twelve-factor app - Config
          href: https://12factor.net/config
        - value: ""
          title: 'OpenShift Container Platform: Input secrets and ConfigMaps'
          href: https://docs.openshift.com/container-platform/4.5/builds/creating-build-inputs.html#builds-input-secrets-configmaps_creating-build-inputs
        tag:
        - mail
        title: Java Mail API
        category-id: cloud-optional
        effort: 3
sourceFile: http://github.com/windup/windup-rulesets/tree/master/rules/rules-reviewed/openshift/mail.windup.xml
