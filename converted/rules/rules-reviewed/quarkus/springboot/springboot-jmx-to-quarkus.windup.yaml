metadata:
- description: "\n            This ruleset gives hints to migrate from SpringBoot
    JMX to Quarkus extension\n        "
  dependencies:
    addon:
    - id: org.jboss.windup.rules,windup-rules-javaee,3.0.0.Final
    - id: org.jboss.windup.rules,windup-rules-java,3.0.0.Final
    - id: org.jboss.windup.rules,windup-rules-xml,3.0.0.Final
  sourceTechnology:
  - id: springboot
  targetTechnology:
  - id: quarkus
rules:
  rule:
  - when:
      xmlfile:
      - namespace:
        - value: ""
          prefix: c
          uri: http://www.springframework.org/schema/beans
        matches: //*/c:bean/@class[windup:matches(self::node(), 'org.springframework.jmx.export.MBeanExporter')]
    perform:
      hint:
      - message: "\n                        Spring JMX XML configuration detected:\n\n
          \                       Spring JMX is not supported by Quarkus with the
          GraalVM Native compilation.\n                        Spring JMX can be used
          with the Quarkus Hotspot compilation however.\n                    "
        title: Spring JMX is not supported by Quarkus with GraalVM on a Native Image
        category-id: mandatory
        effort: 13
  - when:
      javaclass:
      - location:
        - ANNOTATION
        references: org.springframework.jmx.{*}
    perform:
      hint:
      - message: "\n                        Spring JMX annotation configuration detected:\n\n
          \                       Spring JMX is not supported by Quarkus with the
          GraalVM Native compilation.\n                        Spring JMX can be used
          with the Quarkus Hotspot compilation however.\n                    "
        title: Spring JMX is not supported by Quarkus with GraalVM on a Native Image
        category-id: mandatory
        effort: 13
sourceFile: http://github.com/windup/windup-rulesets/tree/master/rules/rules-reviewed/quarkus/springboot/springboot-jmx-to-quarkus.windup.xml
